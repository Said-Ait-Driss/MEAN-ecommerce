<div class="container mx-auto px-4 py-8">
  <!-- Top Bar -->
  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
    <!-- Filters -->
    <div class="flex flex-wrap gap-4 items-center">
      <!-- Category -->
      <select
        [(ngModel)]="selectedCategory"
        (change)="onFilterChange()"
        class="border border-gray-300 rounded-lg px-3 py-2"
      >
      @for (cat of categories; track $index) {
        <option  [value]="cat">{{ cat | titlecase }}</option>
      }
      </select>

      <!-- Price -->
      <div class="flex items-center gap-2">
        <label for="price" class="text-sm text-gray-600">Max Price:</label>
        <input
          id="price"
          type="range"
          min="0"
          max="1000"
          step="50"
          [(ngModel)]="priceRange"
          (input)="onFilterChange()"
        />
        <span class="text-sm font-medium">${{ priceRange }}</span>
      </div>
    </div>

    <!-- Sort + Display -->
    <div class="flex items-center gap-4">
      <!-- Sort -->
      <select
        [(ngModel)]="sortOption"
        (change)="onSortChange()"
        class="border border-gray-300 rounded-lg px-3 py-2"
      >
        <option value="newest">Newest</option>
        <option value="priceLow">Price: Low to High</option>
        <option value="priceHigh">Price: High to Low</option>
      </select>

      <!-- Display toggle -->
      <div class="flex gap-2">
        <button
          class="p-2 border rounded-lg"
          [class.bg-gray-200]="display === 'grid'"
          (click)="toggleDisplay('grid')"
        >
          ðŸ”²
        </button>
        <button
          class="p-2 border rounded-lg"
          [class.bg-gray-200]="display === 'list'"
          (click)="toggleDisplay('list')"
        >
          ðŸ“‹
        </button>
      </div>
    </div>
  </div>

  <div [class]="display === 'grid' ? 'grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6' : 'flex flex-col gap-6'">
      @for (product of products; track $index) {
        <app-product-card  [product]="product"></app-product-card>
      }
  </div>
</div>
